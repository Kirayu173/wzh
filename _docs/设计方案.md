
## 1）项目定位与范围（通过标准版）

 **系统名称** ：农产品订购及溯源系统（Android App + 简易后端）

 **角色** （建议最少做 2 类，工作量刚好）

* **消费者用户** ：注册登录、浏览商品、下单、支付（模拟/第三方占位）、订单管理、扫码溯源、物流查询。
* **商家/管理员** （可做成“管理端页面”藏在 App 里，避免再做 Web）：商品管理、订单发货、溯源信息录入、生成二维码。

> 这样既满足“平台交易 + 全链条追溯信息展示”的题意，又不会把工作量炸掉。

---

## 2）核心业务闭环（验收最看这个）

### 流程A：订购闭环

1. 用户注册/登录
2. 商品列表 → 商品详情
3. 加入购物车/立即购买
4. 提交订单（选择地址）
5. **支付（通过版：模拟支付/回调置为已支付）**
6. 订单列表（待付款/待发货/待收货/已完成）
7. 商家发货 → 用户确认收货

### 流程B：溯源闭环

1. 商家为某批次商品创建“溯源批次记录”（产地、生产者、种植/加工信息、质检报告图片/编号、物流节点）
2. 后端生成溯源 URL 或 traceCode
3. App 端用 ZXing 扫码 → 调接口查询 → 展示溯源详情页（含物流节点时间线）

这两条跑通，基本就“能答辩能演示”。

---

## 3）功能模块清单（按论文写法组织）

### 3.1 用户端（必须做）

1. **注册/登录**
   * 手机号/账号 + 密码（可选：验证码不做）
   * Token 登录态（SharedPreferences 保存）
2. **商品模块**
   * 商品列表（分类/搜索：可做可不做，建议做“搜索”加分但不费劲）
   * 商品详情（价格、库存、图、产地概览）
3. **购物车与订单**
   * 购物车增删改数量
   * 下单：地址选择、备注
   * **支付：模拟支付** （按钮 → 调后端 `pay` → 订单状态=已支付）
   * 订单列表/订单详情/取消订单/确认收货
4. **溯源模块（ZXing）**
   * 扫码识别（二维码内容：traceCode 或 traceUrl）
   * 溯源详情展示：产地、生产者、生产/加工、质检信息、物流节点时间线
5. **个人中心**
   * 我的地址（新增/编辑/删除，建议做）
   * 退出登录

> 这些与你开题里列出的“注册登录、商品浏览下单、支付订单管理、二维码扫描追溯、溯源信息展示、物流查询”等一一对应。

### 3.2 商家/管理员端（通过版最小集）

放在 App 里做一个“管理入口”（例如：个人中心连续点击版本号 5 次进入）：

1. 商品管理：新增/编辑/上下架/库存
2. 订单管理：查看订单、发货（填写快递单号/物流公司/设置状态）
3. 溯源管理：为商品创建批次溯源信息、生成二维码（展示并支持保存/分享）

---

## 4）页面原型清单（直接按这个画图就够写论文）

**用户端页面**

1. Splash/引导（可选）
2. 登录 / 注册
3. 首页（商品列表）
4. 商品详情
5. 购物车
6. 确认订单
7. 支付结果页（可选）
8. 订单列表（Tab：全部/待付款/待发货/待收货/完成）
9. 订单详情
10. 扫码页（ZXing）
11. 溯源详情页（分块展示 + 物流时间线）
12. 地址管理（列表/新增编辑）
13. 个人中心

**管理端页面**

1. 管理首页（商品/订单/溯源 入口）
2. 商品编辑
3. 订单处理（发货/改状态）
4. 溯源批次编辑
5. 二维码展示页

---

## 5）溯源数据与二维码设计（简单但“像回事”）

### 5.1 二维码内容（推荐）

* **方案1：traceCode（短码）** ：如 `TR20260101A0001`
* 扫码后调用：`GET /trace/{traceCode}`
* **方案2：traceUrl** ：如 `https://api.xxx.com/trace/TR2026...`
* 扫码后直接解析 URL 再请求

通过版建议用 **短码** ，生成/管理更容易。

### 5.2 溯源信息字段（论文里写“全链条”，实现做“关键字段”）

* 基本：商品名、批次号、产地、生产者/合作社、采收日期
* 过程：种植方式（文字）、加工方式（文字）
* 质检：检测机构、检测日期、检测结论、报告图片（可上传或填图片URL）
* 物流：节点列表（时间、地点、状态说明）

---

## 6）技术架构（按任务书/开题要求写）

### 6.1 客户端（Android）

* **Java + Android Studio**
* **MVVM** ：Activity/Fragment（View） + ViewModel + Repository + DataSource
* **Retrofit** ：REST API 请求 + Gson 解析
* **ZXing** ：扫码
* 建议补一个  **Room（可选）** ：缓存购物车/地址（不做也行，用后端存 + 本地简单存）

这些与你任务书和开题的技术要求完全对齐。

### 6.2 后端（通过版建议）

* Spring Boot（或你熟悉的任意后端）+ MySQL
* 返回 JSON，提供登录、商品、订单、溯源、物流节点接口

> 如果你后端不想写太复杂：物流不对接第三方，全部“商家手动录入节点”。

---

## 7）接口设计（最小可用版）

### 登录

* `POST /auth/register` 账号、密码、手机号
* `POST /auth/login` → token

### 商品

* `GET /products`
* `GET /products/{id}`
* `POST /admin/products`（管理端）
* `PUT /admin/products/{id}`

### 订单

* `POST /orders`（创建订单）
* `POST /orders/{id}/pay`（模拟支付：改状态）
* `GET /orders`（我的订单）
* `GET /orders/{id}`
* `POST /admin/orders/{id}/ship`（发货：填快递信息、改状态）
* `POST /orders/{id}/confirm`（确认收货）

### 溯源

* `POST /admin/trace`（创建溯源批次，返回 traceCode）
* `GET /trace/{traceCode}`（扫码查询）
* `POST /admin/trace/{traceCode}/logistics`（新增物流节点）

---

## 8）数据库表设计（够用且论文好写）

1. `user(id, username, password_hash, phone, role, create_time)`
2. `product(id, name, price, stock, cover_url, desc, origin, status, create_time)`
3. `address(id, user_id, receiver, phone, province, city, detail, is_default)`
4. `order(id, user_id, total_amount, status, pay_time, ship_time, express_no, express_company, create_time)`
5. `order_item(id, order_id, product_id, price, quantity)`
6. `trace_batch(id, product_id, trace_code, batch_no, origin, producer, harvest_date, process_info, test_org, test_date, test_result, report_url)`
7. `logistics_node(id, trace_code, node_time, location, status_desc)`

> 说明：`order_item` 保证订单可复现；`trace_batch` 与商品关联；`logistics_node` 用 trace_code 查即可。

---

## 9）验收与测试点（按“能过”准备材料）

**功能验收清单（建议答辩现场演示顺序）**

1. 注册登录成功 → 进入首页
2. 浏览商品 → 下单 → 模拟支付成功 → 订单状态变化
3. 管理端发货 → 用户端看到物流信息/状态变化
4. 管理端创建溯源批次 → 生成二维码
5. 用户扫码 → 出溯源详情（产地/质检/物流节点）

**测试用例（写论文很省事）**

* 登录：正确/错误密码、空输入
* 商品：列表加载、详情加载失败重试
* 订单：库存不足提示、重复支付防护
* 扫码：无效码提示、网络异常提示
* 权限：普通用户不能进管理端接口（后端校验 role）

---

## 10）工作量拆解（你照这个做就能交差）

* 第1周：需求+原型图（页面清单都在上面）
* 第2周：后端基础（用户/商品/订单表 + 接口）
* 第3周：Android 登录/商品列表详情 + Retrofit 通
* 第4周：购物车/下单/订单列表详情 + 模拟支付
* 第5周：管理端（商品管理、发货、溯源录入）
* 第6周：ZXing 扫码 + 溯源详情页 + 物流时间线
* 第7周：测试用例 + 修 bug + 论文“系统设计与实现”章节配图

---

如果你愿意，我也可以直接按这份方案给你补齐两样最容易卡人的“交付物”：
1） **论文用的系统用例图/功能结构图/数据库 E-R 图** （按上面表结构生成）
2） **Android 包结构（MVVM 分层）+ 关键页面的 ViewModel/Repository 代码骨架** （保证你开工就能写）
